(function(){const F=document.createElement("link").relList;if(F&&F.supports&&F.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const g of s)if(g.type==="childList")for(const p of g.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function S(s){const g={};return s.integrity&&(g.integrity=s.integrity),s.referrerPolicy&&(g.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?g.credentials="include":s.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function i(s){if(s.ep)return;s.ep=!0;const g=S(s);fetch(s.href,g)}})();var Me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T}var le={exports:{}},Or=le.exports,We;function wr(){return We||(We=1,(function(T,F){(function(S,i,s){var g=F&&!F.nodeType&&F,p=T&&!T.nodeType&&T,x=g&&p&&typeof Me=="object"&&Me,me=p&&p.exports===g&&g;x&&(x.global===x||x.window===x||x.self===x)&&(S=x),s(g&&p?me?p.exports:g:S[i]={})})(Or,"luaparse",function(S){S.version="0.3.1";var i,s,g,p,x,me=S.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1,onCreateNode:null,onCreateScope:null,onDestroyScope:null,onLocalDeclaration:null,luaVersion:"5.1",encodingMode:"none"};function Ne(e,r){return r=r||0,e<128?String.fromCharCode(e):e<2048?String.fromCharCode(r|192|e>>6,r|128|e&63):e<65536?String.fromCharCode(r|224|e>>12,r|128|e>>6&63,r|128|e&63):e<1114112?String.fromCharCode(r|240|e>>18,r|128|e>>12&63,r|128|e>>6&63,r|128|e&63):null}function Re(e,r){for(var t=e.toString(16);t.length<r;)t="0"+t;return t}function Te(e){return function(r){var t=e.exec(r);if(!t)return r;h(null,d.invalidCodeUnit,Re(t[0].charCodeAt(0),4).toUpperCase())}}var Ie={"pseudo-latin1":{fixup:Te(/[^\x00-\xff]/),encodeByte:function(e){return e===null?"":String.fromCharCode(e)},encodeUTF8:function(e){return Ne(e)}},"x-user-defined":{fixup:Te(/[^\x00-\x7f\uf780-\uf7ff]/),encodeByte:function(e){return e===null?"":e>=128?String.fromCharCode(e|63232):String.fromCharCode(e)},encodeUTF8:function(e){return Ne(e,63232)}},none:{discardStrings:!0,fixup:function(e){return e},encodeByte:function(e){return""},encodeUTF8:function(e){return""}}},_=1,G=2,W=4,j=8,$=16,K=32,ee=64,re=128,te=256;S.tokenTypes={EOF:_,StringLiteral:G,Keyword:W,Identifier:j,NumericLiteral:$,Punctuator:K,BooleanLiteral:ee,NilLiteral:re,VarargLiteral:te};var d=S.errors={unexpected:"unexpected %1 '%2' near '%3'",unexpectedEOF:"unexpected symbol near '<eof>'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'",decimalEscapeTooLarge:"decimal escape too large near '%1'",invalidEscape:"invalid escape sequence near '%1'",hexadecimalDigitExpected:"hexadecimal digit expected near '%1'",braceExpected:"missing '%1' near '%2'",tooLargeCodepoint:"UTF-8 value too large near '%1'",unfinishedLongString:"unfinished long string (starting at line %1) near '%2'",unfinishedLongComment:"unfinished long comment (starting at line %1) near '%2'",ambiguousSyntax:"ambiguous syntax (function call x new statement) near '%1'",noLoopToBreak:"no loop to break near '%1'",labelAlreadyDefined:"label '%1' already defined on line %2",labelNotVisible:"no visible label '%1' for <goto>",gotoJumpInLocalScope:"<goto %1> jumps into the scope of local '%2'",cannotUseVararg:"cannot use '...' outside a vararg function near '%1'",invalidCodeUnit:"code unit U+%1 is not allowed in the current encoding mode"},l=S.ast={labelStatement:function(e){return{type:"LabelStatement",label:e}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(e){return{type:"GotoStatement",label:e}},returnStatement:function(e){return{type:"ReturnStatement",arguments:e}},ifStatement:function(e){return{type:"IfStatement",clauses:e}},ifClause:function(e,r){return{type:"IfClause",condition:e,body:r}},elseifClause:function(e,r){return{type:"ElseifClause",condition:e,body:r}},elseClause:function(e){return{type:"ElseClause",body:e}},whileStatement:function(e,r){return{type:"WhileStatement",condition:e,body:r}},doStatement:function(e){return{type:"DoStatement",body:e}},repeatStatement:function(e,r){return{type:"RepeatStatement",condition:e,body:r}},localStatement:function(e,r){return{type:"LocalStatement",variables:e,init:r}},assignmentStatement:function(e,r){return{type:"AssignmentStatement",variables:e,init:r}},callStatement:function(e){return{type:"CallStatement",expression:e}},functionStatement:function(e,r,t,a){return{type:"FunctionDeclaration",identifier:e,isLocal:t,parameters:r,body:a}},forNumericStatement:function(e,r,t,a,u){return{type:"ForNumericStatement",variable:e,start:r,end:t,step:a,body:u}},forGenericStatement:function(e,r,t){return{type:"ForGenericStatement",variables:e,iterators:r,body:t}},chunk:function(e){return{type:"Chunk",body:e}},identifier:function(e){return{type:"Identifier",name:e}},literal:function(e,r,t){return e=e===G?"StringLiteral":e===$?"NumericLiteral":e===ee?"BooleanLiteral":e===re?"NilLiteral":"VarargLiteral",{type:e,value:r,raw:t}},tableKey:function(e,r){return{type:"TableKey",key:e,value:r}},tableKeyString:function(e,r){return{type:"TableKeyString",key:e,value:r}},tableValue:function(e){return{type:"TableValue",value:e}},tableConstructorExpression:function(e){return{type:"TableConstructorExpression",fields:e}},binaryExpression:function(e,r,t){var a=e==="and"||e==="or"?"LogicalExpression":"BinaryExpression";return{type:a,operator:e,left:r,right:t}},unaryExpression:function(e,r){return{type:"UnaryExpression",operator:e,argument:r}},memberExpression:function(e,r,t){return{type:"MemberExpression",indexer:r,identifier:t,base:e}},indexExpression:function(e,r){return{type:"IndexExpression",base:e,index:r}},callExpression:function(e,r){return{type:"CallExpression",base:e,arguments:r}},tableCallExpression:function(e,r){return{type:"TableCallExpression",base:e,arguments:r}},stringCallExpression:function(e,r){return{type:"StringCallExpression",base:e,argument:r}},comment:function(e,r){return{type:"Comment",value:e,raw:r}}};function c(e){if(w){var r=C.pop();r.complete(),r.bless(e)}return s.onCreateNode&&s.onCreateNode(e),e}var ge=Array.prototype.slice,ve=function(e,r){for(var t=0,a=e.length;t<a;++t)if(e[t]===r)return t;return-1};Array.prototype.indexOf&&(ve=function(e,r){return e.indexOf(r)});function He(e,r,t){for(var a=0,u=e.length;a<u;++a)if(e[a][r]===t)return a;return-1}function ne(e){var r=ge.call(arguments,1);return e=e.replace(/%(\d)/g,function(t,a){return""+r[a-1]||""}),e}var ye=function(e){for(var r=ge.call(arguments,1),t,a,u=0,f=r.length;u<f;++u){t=r[u];for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};Object.assign&&(ye=Object.assign),S.SyntaxError=SyntaxError;function De(e){return Object.create?Object.create(e,{line:{writable:!0,value:e.line},index:{writable:!0,value:e.index},column:{writable:!0,value:e.column}}):e}function h(e){var r=ne.apply(null,ge.call(arguments,1)),t,a;throw e===null||typeof e.line>"u"?(a=n-I+1,t=De(new SyntaxError(ne("[%1:%2] %3",k,a,r))),t.index=n,t.line=k,t.column=a):(a=e.range[0]-e.lineStart,t=De(new SyntaxError(ne("[%1:%2] %3",e.line,a,r))),t.line=e.line,t.index=e.range[0],t.column=a),t}function ae(e){var r=i.slice(e.range[0],e.range[1]);return r||e.value}function J(e,r){h(r,d.expectedToken,e,ae(r))}function ie(e){var r=ae(z);if(typeof e.type<"u"){var t;switch(e.type){case G:t="string";break;case W:t="keyword";break;case j:t="identifier";break;case $:t="number";break;case K:t="symbol";break;case ee:t="boolean";break;case re:return h(e,d.unexpected,"symbol","nil",r);case _:return h(e,d.unexpectedEOF)}return h(e,d.unexpected,t,ae(e),r)}return h(e,d.unexpected,"symbol",e,r)}var n,o,P,z,be,L,k,I;S.lex=Se;function Se(){for(xe();i.charCodeAt(n)===45&&i.charCodeAt(n+1)===45;)tr(),xe();if(n>=g)return{type:_,value:"<eof>",line:k,lineStart:I,range:[n,n]};var e=i.charCodeAt(n),r=i.charCodeAt(n+1);if(L=n,ar(e))return Je();switch(e){case 39:case 34:return Xe();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Fe();case 46:return R(r)?Fe():r===46?i.charCodeAt(n+2)===46?ze():O(".."):O(".");case 61:return O(r===61?"==":"=");case 62:return p.bitwiseOperators&&r===62?O(">>"):O(r===61?">=":">");case 60:return p.bitwiseOperators&&r===60?O("<<"):O(r===61?"<=":"<");case 126:if(r===61)return O("~=");if(!p.bitwiseOperators)break;return O("~");case 58:return p.labels&&r===58?O("::"):O(":");case 91:return r===91||r===61?Qe():O("[");case 47:return p.integerDivision&&r===47?O("//"):O("/");case 38:case 124:if(!p.bitwiseOperators)break;case 42:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return O(i.charAt(n))}return ie(i.charAt(n))}function ce(){var e=i.charCodeAt(n),r=i.charCodeAt(n+1);return se(e)?(e===10&&r===13&&++n,e===13&&r===10&&++n,++k,I=++n,!0):!1}function xe(){for(;n<g;){var e=i.charCodeAt(n);if(nr(e))++n;else if(!ce())break}}function Je(){for(var e,r;ir(i.charCodeAt(++n)););return e=x.fixup(i.slice(L,n)),sr(e)?r=W:e==="true"||e==="false"?(r=ee,e=e==="true"):e==="nil"?(r=re,e=null):r=j,{type:r,value:e,line:k,lineStart:I,range:[L,n]}}function O(e){return n+=e.length,{type:K,value:e,line:k,lineStart:I,range:[L,n]}}function ze(){return n+=3,{type:te,value:"...",line:k,lineStart:I,range:[L,n]}}function Xe(){for(var e=i.charCodeAt(n++),r=k,t=I,a=n,u=x.discardStrings?null:"",f;f=i.charCodeAt(n++),e!==f;)if((n>g||se(f))&&(u+=i.slice(a,n-1),h(null,d.unfinishedString,i.slice(L,n-1))),f===92){if(!x.discardStrings){var m=i.slice(a,n-1);u+=x.fixup(m)}var A=rr();x.discardStrings||(u+=A),a=n}return x.discardStrings||(u+=x.encodeByte(null),u+=x.fixup(i.slice(a,n-1))),{type:G,value:u,line:r,lineStart:t,lastLine:k,lastLineStart:I,range:[L,n]}}function Qe(){var e=k,r=I,t=Ce(!1);return t===!1&&h(o,d.expected,"[",ae(o)),{type:G,value:x.discardStrings?null:x.fixup(t),line:e,lineStart:r,lastLine:k,lastLineStart:I,range:[L,n]}}function Fe(){var e=i.charAt(n),r=i.charAt(n+1),t=e==="0"&&"xX".indexOf(r||null)>=0?_e():$e(),a=Ye(),u=Ze();return u&&(a||t.hasFractionPart)&&h(null,d.malformedNumber,i.slice(L,n)),{type:$,value:t.value,line:k,lineStart:I,range:[L,n]}}function Ye(){if(p.imaginaryNumbers)return"iI".indexOf(i.charAt(n)||null)>=0?(++n,!0):!1}function Ze(){if(p.integerSuffixes){if("uU".indexOf(i.charAt(n)||null)>=0)if(++n,"lL".indexOf(i.charAt(n)||null)>=0){if(++n,"lL".indexOf(i.charAt(n)||null)>=0)return++n,"ULL";h(null,d.malformedNumber,i.slice(L,n))}else h(null,d.malformedNumber,i.slice(L,n));else if("lL".indexOf(i.charAt(n)||null)>=0){if(++n,"lL".indexOf(i.charAt(n)||null)>=0)return++n,"LL";h(null,d.malformedNumber,i.slice(L,n))}}}function _e(){var e=0,r=1,t=1,a,u,f,m;for(m=n+=2,X(i.charCodeAt(n))||h(null,d.malformedNumber,i.slice(L,n));X(i.charCodeAt(n));)++n;a=parseInt(i.slice(m,n),16);var A=!1;if(i.charAt(n)==="."){for(A=!0,u=++n;X(i.charCodeAt(n));)++n;e=i.slice(u,n),e=u===n?0:parseInt(e,16)/Math.pow(16,n-u)}var he=!1;if("pP".indexOf(i.charAt(n)||null)>=0){for(he=!0,++n,"+-".indexOf(i.charAt(n)||null)>=0&&(t=i.charAt(n++)==="+"?1:-1),f=n,R(i.charCodeAt(n))||h(null,d.malformedNumber,i.slice(L,n));R(i.charCodeAt(n));)++n;r=i.slice(f,n),r=Math.pow(2,r*t)}return{value:(a+e)*r,hasFractionPart:A||he}}function $e(){for(;R(i.charCodeAt(n));)++n;var e=!1;if(i.charAt(n)===".")for(e=!0,++n;R(i.charCodeAt(n));)++n;var r=!1;if("eE".indexOf(i.charAt(n)||null)>=0)for(r=!0,++n,"+-".indexOf(i.charAt(n)||null)>=0&&++n,R(i.charCodeAt(n))||h(null,d.malformedNumber,i.slice(L,n));R(i.charCodeAt(n));)++n;return{value:parseFloat(i.slice(L,n)),hasFractionPart:e||r}}function er(){var e=n++;for(i.charAt(n++)!=="{"&&h(null,d.braceExpected,"{","\\"+i.slice(e,n)),X(i.charCodeAt(n))||h(null,d.hexadecimalDigitExpected,"\\"+i.slice(e,n));i.charCodeAt(n)===48;)++n;for(var r=n;X(i.charCodeAt(n));)++n,n-r>6&&h(null,d.tooLargeCodepoint,"\\"+i.slice(e,n));var t=i.charAt(n++);t!=="}"&&(t==='"'||t==="'"?h(null,d.braceExpected,"}","\\"+i.slice(e,n--)):h(null,d.hexadecimalDigitExpected,"\\"+i.slice(e,n)));var a=parseInt(i.slice(r,n-1)||"0",16),u="\\"+i.slice(e,n);return a>1114111&&h(null,d.tooLargeCodepoint,u),x.encodeUTF8(a,u)}function rr(){var e=n;switch(i.charAt(n)){case"a":return++n,"\x07";case"n":return++n,`
`;case"r":return++n,"\r";case"t":return++n,"	";case"v":return++n,"\v";case"b":return++n,"\b";case"f":return++n,"\f";case"\r":case`
`:return ce(),`
`;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;R(i.charCodeAt(n))&&n-e<3;)++n;var r=i.slice(e,n),t=parseInt(r,10);return t>255&&h(null,d.decimalEscapeTooLarge,"\\"+t),x.encodeByte(t,"\\"+r);case"z":if(p.skipWhitespaceEscape)return++n,xe(),"";break;case"x":if(p.hexEscapes){if(X(i.charCodeAt(n+1))&&X(i.charCodeAt(n+2)))return n+=3,x.encodeByte(parseInt(i.slice(e+1,n),16),"\\"+i.slice(e,n));h(null,d.hexadecimalDigitExpected,"\\"+i.slice(e,n+2))}break;case"u":if(p.unicodeEscapes)return er();break;case"\\":case'"':case"'":return i.charAt(n++)}return p.strictEscapes&&h(null,d.invalidEscape,"\\"+i.slice(e,n+1)),i.charAt(n++)}function tr(){L=n,n+=2;var e=i.charAt(n),r="",t=!1,a=n,u=I,f=k;if(e==="["&&(r=Ce(!0),r===!1?r=e:t=!0),!t){for(;n<g&&!se(i.charCodeAt(n));)++n;s.comments&&(r=i.slice(a,n))}if(s.comments){var m=l.comment(r,i.slice(L,n));s.locations&&(m.loc={start:{line:f,column:L-u},end:{line:k,column:n-I}}),s.ranges&&(m.range=[L,n]),s.onCreateNode&&s.onCreateNode(m),be.push(m)}}function Ce(e){var r=0,t="",a=!1,u,f,m=k;for(++n;i.charAt(n+r)==="=";)++r;if(i.charAt(n+r)!=="[")return!1;for(n+=r+1,se(i.charCodeAt(n))&&ce(),f=n;n<g;){for(;se(i.charCodeAt(n));)ce();if(u=i.charAt(n++),u==="]"){a=!0;for(var A=0;A<r;++A)i.charAt(n+A)!=="="&&(a=!1);i.charAt(n+r)!=="]"&&(a=!1)}if(a)return t+=i.slice(f,n-1),n+=r+1,t}h(null,e?d.unfinishedLongComment:d.unfinishedLongString,m,"<eof>")}function v(){P=o,o=z,z=Se()}function b(e){return e===o.value?(v(),!0):!1}function y(e){e===o.value?v():h(o,d.expected,e,ae(o))}function nr(e){return e===9||e===32||e===11||e===12}function se(e){return e===10||e===13}function R(e){return e>=48&&e<=57}function X(e){return e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70}function ar(e){return!!(e>=65&&e<=90||e>=97&&e<=122||e===95||p.extendedIdentifiers&&e>=128)}function ir(e){return!!(e>=65&&e<=90||e>=97&&e<=122||e===95||e>=48&&e<=57||p.extendedIdentifiers&&e>=128)}function sr(e){switch(e.length){case 2:return e==="do"||e==="if"||e==="in"||e==="or";case 3:return e==="and"||e==="end"||e==="for"||e==="not";case 4:return e==="else"||e==="then"?!0:p.labels&&!p.contextualGoto?e==="goto":!1;case 5:return e==="break"||e==="local"||e==="until"||e==="while";case 6:return e==="elseif"||e==="repeat"||e==="return";case 8:return e==="function"}return!1}function ur(e){return K===e.type?"#-~".indexOf(e.value)>=0:W===e.type?e.value==="not":!1}function or(e){if(_===e.type)return!0;if(W!==e.type)return!1;switch(e.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}var Q,Y,fe;function B(){var e=Q[Y++].slice();Q.push(e),s.onCreateScope&&s.onCreateScope()}function U(){Q.pop(),--Y,s.onDestroyScope&&s.onDestroyScope()}function Le(e){s.onLocalDeclaration&&s.onLocalDeclaration(e),ve(Q[Y],e)===-1&&Q[Y].push(e)}function ue(e){Le(e.name),oe(e,!0)}function oe(e,r){!r&&He(fe,"name",e.name)===-1&&fe.push(e),e.isLocal=r}function Ee(e){return ve(Q[Y],e)!==-1}var C=[],w;function q(){return new pe(o)}function pe(e){s.locations&&(this.loc={start:{line:e.line,column:e.range[0]-e.lineStart},end:{line:0,column:0}}),s.ranges&&(this.range=[e.range[0],0])}pe.prototype.complete=function(){s.locations&&(this.loc.end.line=P.lastLine||P.line,this.loc.end.column=P.range[1]-(P.lastLineStart||P.lineStart)),s.ranges&&(this.range[1]=P.range[1])},pe.prototype.bless=function(e){if(this.loc){var r=this.loc;e.loc={start:{line:r.start.line,column:r.start.column},end:{line:r.end.line,column:r.end.column}}}this.range&&(e.range=[this.range[0],this.range[1]])};function Z(){w&&C.push(q())}function D(e){w&&C.push(e)}function M(){this.scopes=[],this.pendingGotos=[]}M.prototype.isInLoop=function(){for(var e=this.scopes.length;e-- >0;)if(this.scopes[e].isLoop)return!0;return!1},M.prototype.pushScope=function(e){var r={labels:{},locals:[],deferredGotos:[],isLoop:!!e};this.scopes.push(r)},M.prototype.popScope=function(){for(var e=0;e<this.pendingGotos.length;++e){var r=this.pendingGotos[e];r.maxDepth>=this.scopes.length&&--r.maxDepth<=0&&h(r.token,d.labelNotVisible,r.target)}this.scopes.pop()},M.prototype.addGoto=function(e,r){for(var t=[],a=0;a<this.scopes.length;++a){var u=this.scopes[a];if(t.push(u.locals.length),Object.prototype.hasOwnProperty.call(u.labels,e))return}this.pendingGotos.push({maxDepth:this.scopes.length,target:e,token:r,localCounts:t})},M.prototype.addLabel=function(e,r){var t=this.currentScope();if(Object.prototype.hasOwnProperty.call(t.labels,e))h(r,d.labelAlreadyDefined,e,t.labels[e].line);else{for(var a=[],u=0;u<this.pendingGotos.length;++u){var f=this.pendingGotos[u];if(f.maxDepth>=this.scopes.length&&f.target===e){f.localCounts[this.scopes.length-1]<t.locals.length&&t.deferredGotos.push(f);continue}a.push(f)}this.pendingGotos=a}t.labels[e]={localCount:t.locals.length,line:r.line}},M.prototype.addLocal=function(e,r){this.currentScope().locals.push({name:e,token:r})},M.prototype.currentScope=function(){return this.scopes[this.scopes.length-1]},M.prototype.raiseDeferredErrors=function(){for(var e=this.currentScope(),r=e.deferredGotos,t=0;t<r.length;++t){var a=r[t];h(a.token,d.gotoJumpInLocalScope,a.target,e.locals[a.localCounts[this.scopes.length-1]].name)}};function H(){this.level=0,this.loopLevels=[]}H.prototype.isInLoop=function(){return!!this.loopLevels.length},H.prototype.pushScope=function(e){++this.level,e&&this.loopLevels.push(this.level)},H.prototype.popScope=function(){var e=this.loopLevels,r=e.length;r&&e[r-1]===this.level&&e.pop(),--this.level},H.prototype.addGoto=H.prototype.addLabel=function(){throw new Error("This should never happen")},H.prototype.addLocal=H.prototype.raiseDeferredErrors=function(){};function Pe(){return p.labels?new M:new H}function lr(){v(),Z(),s.scope&&B();var e=Pe();e.allowVararg=!0,e.pushScope();var r=V(e);return e.popScope(),s.scope&&U(),_!==o.type&&ie(o),w&&!r.length&&(P=o),c(l.chunk(r))}function V(e){for(var r=[],t;!or(o);){if(o.value==="return"||!p.relaxedBreak&&o.value==="break"){r.push(je(e));break}t=je(e),b(";"),t&&r.push(t)}return r}function je(e){if(Z(),K===o.type&&b("::"))return cr(e);if(p.emptyStatement&&b(";")){w&&C.pop();return}if(e.raiseDeferredErrors(),W===o.type)switch(o.value){case"local":return v(),yr(e);case"if":return v(),gr(e);case"return":return v(),mr(e);case"function":v();var r=Sr();return Ae(r);case"while":return v(),dr(e);case"for":return v(),vr(e);case"repeat":return v(),hr(e);case"break":return v(),e.isInLoop()||h(o,d.noLoopToBreak,o.value),fr();case"do":return v(),pr(e);case"goto":return v(),Be(e)}return p.contextualGoto&&o.type===j&&o.value==="goto"&&z.type===j&&z.value!=="goto"?(v(),Be(e)):(w&&C.pop(),br(e))}function cr(e){var r=o,t=N();return s.scope&&(Le("::"+r.value+"::"),oe(t,!0)),y("::"),e.addLabel(r.value,r),c(l.labelStatement(t))}function fr(){return c(l.breakStatement())}function Be(e){var r=o.value,t=P,a=N();return e.addGoto(r,t),c(l.gotoStatement(a))}function pr(e){s.scope&&B(),e.pushScope();var r=V(e);return e.popScope(),s.scope&&U(),y("end"),c(l.doStatement(r))}function dr(e){var r=E(e);y("do"),s.scope&&B(),e.pushScope(!0);var t=V(e);return e.popScope(),s.scope&&U(),y("end"),c(l.whileStatement(r,t))}function hr(e){s.scope&&B(),e.pushScope(!0);var r=V(e);y("until"),e.raiseDeferredErrors();var t=E(e);return e.popScope(),s.scope&&U(),c(l.repeatStatement(t,r))}function mr(e){var r=[];if(o.value!=="end"){var t=de(e);for(t!=null&&r.push(t);b(",");)t=E(e),r.push(t);b(";")}return c(l.returnStatement(r))}function gr(e){var r=[],t,a,u;for(w&&(u=C[C.length-1],C.push(u)),t=E(e),y("then"),s.scope&&B(),e.pushScope(),a=V(e),e.popScope(),s.scope&&U(),r.push(c(l.ifClause(t,a))),w&&(u=q());b("elseif");)D(u),t=E(e),y("then"),s.scope&&B(),e.pushScope(),a=V(e),e.popScope(),s.scope&&U(),r.push(c(l.elseifClause(t,a))),w&&(u=q());return b("else")&&(w&&(u=new pe(P),C.push(u)),s.scope&&B(),e.pushScope(),a=V(e),e.popScope(),s.scope&&U(),r.push(c(l.elseClause(a)))),y("end"),c(l.ifStatement(r))}function vr(e){var r=N(),t;if(s.scope&&(B(),ue(r)),b("=")){var a=E(e);y(",");var u=E(e),f=b(",")?E(e):null;return y("do"),e.pushScope(!0),t=V(e),e.popScope(),y("end"),s.scope&&U(),c(l.forNumericStatement(r,a,u,f,t))}else{for(var m=[r];b(",");)r=N(),s.scope&&ue(r),m.push(r);y("in");var A=[];do{var he=E(e);A.push(he)}while(b(","));return y("do"),e.pushScope(!0),t=V(e),e.popScope(),y("end"),s.scope&&U(),c(l.forGenericStatement(m,A,t))}}function yr(e){var r,t=P;if(j===o.type){var a=[],u=[];do r=N(),a.push(r),e.addLocal(r.name,t);while(b(","));if(b("="))do{var f=E(e);u.push(f)}while(b(","));if(s.scope)for(var m=0,A=a.length;m<A;++m)ue(a[m]);return c(l.localStatement(a,u))}if(b("function"))return r=N(),e.addLocal(r.name,t),s.scope&&(ue(r),B()),Ae(r,!0);J("<name>",o)}function br(e){var r,t,a,u,f,m=[];w&&(t=q());do{if(w&&(r=q()),j===o.type)f=o.value,u=N(),s.scope&&oe(u,Ee(f)),a=!0;else if(o.value==="(")v(),u=E(e),y(")"),a=!1;else return ie(o);e:for(;;){switch(G===o.type?'"':o.value){case".":case"[":a=!0;break;case":":case"(":case"{":case'"':a=null;break;default:break e}u=Ve(u,r,e)}if(m.push(u),o.value!==",")break;if(!a)return ie(o);v()}while(!0);if(m.length===1&&a===null)return D(r),c(l.callStatement(m[0]));if(!a)return ie(o);y("=");var A=[];do A.push(E(e));while(b(","));return D(t),c(l.assignmentStatement(m,A))}function N(){Z();var e=o.value;return j!==o.type&&J("<name>",o),v(),c(l.identifier(e))}function Ae(e,r){var t=Pe();t.pushScope();var a=[];if(y("("),!b(")"))for(;;){if(j===o.type){var u=N();if(s.scope&&ue(u),a.push(u),b(","))continue}else te===o.type?(t.allowVararg=!0,a.push(ke(t))):J("<name> or '...'",o);y(")");break}var f=V(t);return t.popScope(),y("end"),s.scope&&U(),r=r||!1,c(l.functionStatement(e,a,r,f))}function Sr(){var e,r,t;for(w&&(t=q()),e=N(),s.scope&&(oe(e,Ee(e.name)),B());b(".");)D(t),r=N(),e=c(l.memberExpression(e,".",r));return b(":")&&(D(t),r=N(),e=c(l.memberExpression(e,":",r)),s.scope&&Le("self")),e}function Ue(e){for(var r=[],t,a;;){if(Z(),K===o.type&&b("["))t=E(e),y("]"),y("="),a=E(e),r.push(c(l.tableKey(t,a)));else if(j===o.type)z.value==="="?(t=N(),v(),a=E(e),r.push(c(l.tableKeyString(t,a)))):(a=E(e),r.push(c(l.tableValue(a))));else{if((a=de(e))==null){C.pop();break}r.push(c(l.tableValue(a)))}if(",;".indexOf(o.value)>=0){v();continue}break}return y("}"),c(l.tableConstructorExpression(r))}function de(e){var r=Oe(0,e);return r}function E(e){var r=de(e);if(r==null)J("<expression>",o);else return r}function xr(e){var r=e.charCodeAt(0),t=e.length;if(t===1)switch(r){case 94:return 12;case 42:case 47:case 37:return 10;case 43:case 45:return 9;case 38:return 6;case 126:return 5;case 124:return 4;case 60:case 62:return 3}else if(t===2)switch(r){case 47:return 10;case 46:return 8;case 60:case 62:return e==="<<"||e===">>"?7:3;case 61:case 126:return 3;case 111:return 1}else if(r===97&&e==="and")return 2;return 0}function Oe(e,r){var t=o.value,a,u;if(w&&(u=q()),ur(o)){Z(),v();var f=Oe(10,r);f==null&&J("<expression>",o),a=c(l.unaryExpression(t,f))}if(a==null&&(a=ke(r),a==null&&(a=Lr(r))),a==null)return null;for(var m;t=o.value,m=K===o.type||W===o.type?xr(t):0,!(m===0||m<=e);){(t==="^"||t==="..")&&--m,v();var A=Oe(m,r);A==null&&J("<expression>",o),w&&C.push(u),a=c(l.binaryExpression(t,a,A))}return a}function Ve(e,r,t){var a,u;if(K===o.type)switch(o.value){case"[":return D(r),v(),a=E(t),y("]"),c(l.indexExpression(e,a));case".":return D(r),v(),u=N(),c(l.memberExpression(e,".",u));case":":return D(r),v(),u=N(),e=c(l.memberExpression(e,":",u)),D(r),we(e,t);case"(":case"{":return D(r),we(e,t)}else if(G===o.type)return D(r),we(e,t);return null}function Lr(e){var r,t,a;if(w&&(a=q()),j===o.type)t=o.value,r=N(),s.scope&&oe(r,Ee(t));else if(b("("))r=E(e),y(")");else return null;for(;;){var u=Ve(r,a,e);if(u===null)break;r=u}return r}function we(e,r){if(K===o.type)switch(o.value){case"(":p.emptyStatement||o.line!==P.line&&h(null,d.ambiguousSyntax,o.value),v();var t=[],a=de(r);for(a!=null&&t.push(a);b(",");)a=E(r),t.push(a);return y(")"),c(l.callExpression(e,t));case"{":Z(),v();var u=Ue(r);return c(l.tableCallExpression(e,u))}else if(G===o.type)return c(l.stringCallExpression(e,ke(r)));J("function arguments",o)}function ke(e){var r=G|$|ee|re|te,t=o.value,a=o.type,u;if(w&&(u=q()),a===te&&!e.allowVararg&&h(o,d.cannotUseVararg,o.value),a&r){D(u);var f=i.slice(o.range[0],o.range[1]);return v(),c(l.literal(a,t,f))}else{if(W===a&&t==="function")return D(u),v(),s.scope&&B(),Ae(null);if(b("{"))return D(u),Ue(e)}}S.parse=Er;var Ge={"5.1":{},"5.2":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,relaxedBreak:!0},"5.3":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,bitwiseOperators:!0,integerDivision:!0,relaxedBreak:!0},LuaJIT:{labels:!0,contextualGoto:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,imaginaryNumbers:!0,integerSuffixes:!0}};function Er(e,r){if(typeof r>"u"&&typeof e=="object"&&(r=e,e=void 0),r||(r={}),i=e||"",s=ye({},me,r),n=0,k=1,I=0,g=i.length,Q=[[]],Y=0,fe=[],C=[],!Object.prototype.hasOwnProperty.call(Ge,s.luaVersion))throw new Error(ne("Lua version '%1' not supported",s.luaVersion));if(p=ye({},Ge[s.luaVersion]),s.extendedIdentifiers!==void 0&&(p.extendedIdentifiers=!!s.extendedIdentifiers),!Object.prototype.hasOwnProperty.call(Ie,s.encodingMode))throw new Error(ne("Encoding mode '%1' not supported",s.encodingMode));return x=Ie[s.encodingMode],s.comments&&(be=[]),s.wait?S:qe()}S.write=Ke;function Ke(e){return i+=String(e),g=i.length,S}S.end=qe;function qe(e){typeof e<"u"&&Ke(e),i&&i.substr(0,2)==="#!"&&(i=i.replace(/^.*/,function(t){return t.replace(/./g," ")})),g=i.length,w=s.locations||s.ranges,z=Se();var r=lr();if(s.comments&&(r.comments=be),s.scope&&(r.globals=fe),C.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");return r}})})(le,le.exports)),le.exports}var kr=wr();const Nr=Ar(kr),Tr={Lawnames:"/api/module/Lawnames",Flagdata:"/api/module/Flagdata",Nationdata:"/api/module/Nationdata",Tagdata:"/api/module/Tagdata"};async function Ir(){const T=Object.entries(Tr).map(async([S,i])=>{const g=await(await fetch(i)).json();return[S,g.source]}),F=await Promise.all(T);return Object.fromEntries(F)}Ir().then(T=>{const F={};for(const[S,i]of Object.entries(T))try{F[S]=Nr.parse(i),console.log(`${S} parsed successfully`)}catch(s){console.error(`Error parsing ${S}:`,s)}console.log("Parsed modules:",F),console.log("Lawnames AST:",JSON.stringify(F.Tagdata,null,2))});
