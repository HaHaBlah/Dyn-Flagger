(function(){const L=document.createElement("link").relList;if(L&&L.supports&&L.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const h of s)if(h.type==="childList")for(const c of h.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function u(s){const h={};return s.integrity&&(h.integrity=s.integrity),s.referrerPolicy&&(h.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?h.credentials="include":s.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(s){if(s.ep)return;s.ep=!0;const h=u(s);fetch(s.href,h)}})();var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de={exports:{}},Ir=de.exports,ze;function Tr(){return ze||(ze=1,(function(N,L){(function(u,i,s){var h=L&&!L.nodeType&&L,c=N&&!N.nodeType&&N,v=h&&c&&typeof Je=="object"&&Je,K=c&&c.exports===h&&h;v&&(v.global===v||v.window===v||v.self===v)&&(u=v),s(h&&c?K?c.exports:h:u[i]={})})(Ir,"luaparse",function(u){u.version="0.3.1";var i,s,h,c,v,K=u.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1,onCreateNode:null,onCreateScope:null,onDestroyScope:null,onLocalDeclaration:null,luaVersion:"5.1",encodingMode:"none"};function I(e,r){return r=r||0,e<128?String.fromCharCode(e):e<2048?String.fromCharCode(r|192|e>>6,r|128|e&63):e<65536?String.fromCharCode(r|224|e>>12,r|128|e>>6&63,r|128|e&63):e<1114112?String.fromCharCode(r|240|e>>18,r|128|e>>12&63,r|128|e>>6&63,r|128|e&63):null}function $(e,r){for(var t=e.toString(16);t.length<r;)t="0"+t;return t}function me(e){return function(r){var t=e.exec(r);if(!t)return r;g(null,m.invalidCodeUnit,$(t[0].charCodeAt(0),4).toUpperCase())}}var he={"pseudo-latin1":{fixup:me(/[^\x00-\xff]/),encodeByte:function(e){return e===null?"":String.fromCharCode(e)},encodeUTF8:function(e){return I(e)}},"x-user-defined":{fixup:me(/[^\x00-\x7f\uf780-\uf7ff]/),encodeByte:function(e){return e===null?"":e>=128?String.fromCharCode(e|63232):String.fromCharCode(e)},encodeUTF8:function(e){return I(e,63232)}},none:{discardStrings:!0,fixup:function(e){return e},encodeByte:function(e){return""},encodeUTF8:function(e){return""}}},te=1,R=2,M=4,U=8,ne=16,q=32,ae=64,ie=128,se=256;u.tokenTypes={EOF:te,StringLiteral:R,Keyword:M,Identifier:U,NumericLiteral:ne,Punctuator:q,BooleanLiteral:ae,NilLiteral:ie,VarargLiteral:se};var m=u.errors={unexpected:"unexpected %1 '%2' near '%3'",unexpectedEOF:"unexpected symbol near '<eof>'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'",decimalEscapeTooLarge:"decimal escape too large near '%1'",invalidEscape:"invalid escape sequence near '%1'",hexadecimalDigitExpected:"hexadecimal digit expected near '%1'",braceExpected:"missing '%1' near '%2'",tooLargeCodepoint:"UTF-8 value too large near '%1'",unfinishedLongString:"unfinished long string (starting at line %1) near '%2'",unfinishedLongComment:"unfinished long comment (starting at line %1) near '%2'",ambiguousSyntax:"ambiguous syntax (function call x new statement) near '%1'",noLoopToBreak:"no loop to break near '%1'",labelAlreadyDefined:"label '%1' already defined on line %2",labelNotVisible:"no visible label '%1' for <goto>",gotoJumpInLocalScope:"<goto %1> jumps into the scope of local '%2'",cannotUseVararg:"cannot use '...' outside a vararg function near '%1'",invalidCodeUnit:"code unit U+%1 is not allowed in the current encoding mode"},f=u.ast={labelStatement:function(e){return{type:"LabelStatement",label:e}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(e){return{type:"GotoStatement",label:e}},returnStatement:function(e){return{type:"ReturnStatement",arguments:e}},ifStatement:function(e){return{type:"IfStatement",clauses:e}},ifClause:function(e,r){return{type:"IfClause",condition:e,body:r}},elseifClause:function(e,r){return{type:"ElseifClause",condition:e,body:r}},elseClause:function(e){return{type:"ElseClause",body:e}},whileStatement:function(e,r){return{type:"WhileStatement",condition:e,body:r}},doStatement:function(e){return{type:"DoStatement",body:e}},repeatStatement:function(e,r){return{type:"RepeatStatement",condition:e,body:r}},localStatement:function(e,r){return{type:"LocalStatement",variables:e,init:r}},assignmentStatement:function(e,r){return{type:"AssignmentStatement",variables:e,init:r}},callStatement:function(e){return{type:"CallStatement",expression:e}},functionStatement:function(e,r,t,a){return{type:"FunctionDeclaration",identifier:e,isLocal:t,parameters:r,body:a}},forNumericStatement:function(e,r,t,a,o){return{type:"ForNumericStatement",variable:e,start:r,end:t,step:a,body:o}},forGenericStatement:function(e,r,t){return{type:"ForGenericStatement",variables:e,iterators:r,body:t}},chunk:function(e){return{type:"Chunk",body:e}},identifier:function(e){return{type:"Identifier",name:e}},literal:function(e,r,t){return e=e===R?"StringLiteral":e===ne?"NumericLiteral":e===ae?"BooleanLiteral":e===ie?"NilLiteral":"VarargLiteral",{type:e,value:r,raw:t}},tableKey:function(e,r){return{type:"TableKey",key:e,value:r}},tableKeyString:function(e,r){return{type:"TableKeyString",key:e,value:r}},tableValue:function(e){return{type:"TableValue",value:e}},tableConstructorExpression:function(e){return{type:"TableConstructorExpression",fields:e}},binaryExpression:function(e,r,t){var a=e==="and"||e==="or"?"LogicalExpression":"BinaryExpression";return{type:a,operator:e,left:r,right:t}},unaryExpression:function(e,r){return{type:"UnaryExpression",operator:e,argument:r}},memberExpression:function(e,r,t){return{type:"MemberExpression",indexer:r,identifier:t,base:e}},indexExpression:function(e,r){return{type:"IndexExpression",base:e,index:r}},callExpression:function(e,r){return{type:"CallExpression",base:e,arguments:r}},tableCallExpression:function(e,r){return{type:"TableCallExpression",base:e,arguments:r}},stringCallExpression:function(e,r){return{type:"StringCallExpression",base:e,argument:r}},comment:function(e,r){return{type:"Comment",value:e,raw:r}}};function p(e){if(O){var r=B.pop();r.complete(),r.bless(e)}return s.onCreateNode&&s.onCreateNode(e),e}var Ee=Array.prototype.slice,Le=function(e,r){for(var t=0,a=e.length;t<a;++t)if(e[t]===r)return t;return-1};Array.prototype.indexOf&&(Le=function(e,r){return e.indexOf(r)});function Ye(e,r,t){for(var a=0,o=e.length;a<o;++a)if(e[a][r]===t)return a;return-1}function oe(e){var r=Ee.call(arguments,1);return e=e.replace(/%(\d)/g,function(t,a){return""+r[a-1]||""}),e}var we=function(e){for(var r=Ee.call(arguments,1),t,a,o=0,d=r.length;o<d;++o){t=r[o];for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};Object.assign&&(we=Object.assign),u.SyntaxError=SyntaxError;function Pe(e){return Object.create?Object.create(e,{line:{writable:!0,value:e.line},index:{writable:!0,value:e.index},column:{writable:!0,value:e.column}}):e}function g(e){var r=oe.apply(null,Ee.call(arguments,1)),t,a;throw e===null||typeof e.line>"u"?(a=n-C+1,t=Pe(new SyntaxError(oe("[%1:%2] %3",T,a,r))),t.index=n,t.line=T,t.column=a):(a=e.range[0]-e.lineStart,t=Pe(new SyntaxError(oe("[%1:%2] %3",e.line,a,r))),t.line=e.line,t.index=e.range[0],t.column=a),t}function le(e){var r=i.slice(e.range[0],e.range[1]);return r||e.value}function X(e,r){g(r,m.expectedToken,e,le(r))}function ce(e){var r=le(Q);if(typeof e.type<"u"){var t;switch(e.type){case R:t="string";break;case M:t="keyword";break;case U:t="identifier";break;case ne:t="number";break;case q:t="symbol";break;case ae:t="boolean";break;case ie:return g(e,m.unexpected,"symbol","nil",r);case te:return g(e,m.unexpectedEOF)}return g(e,m.unexpected,t,le(e),r)}return g(e,m.unexpected,"symbol",e,r)}var n,l,P,Q,Ae,E,T,C;u.lex=ke;function ke(){for(Oe();i.charCodeAt(n)===45&&i.charCodeAt(n+1)===45;)or(),Oe();if(n>=h)return{type:te,value:"<eof>",line:T,lineStart:C,range:[n,n]};var e=i.charCodeAt(n),r=i.charCodeAt(n+1);if(E=n,cr(e))return Ze();switch(e){case 39:case 34:return $e();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Ue();case 46:return J(r)?Ue():r===46?i.charCodeAt(n+2)===46?_e():k(".."):k(".");case 61:return k(r===61?"==":"=");case 62:return c.bitwiseOperators&&r===62?k(">>"):k(r===61?">=":">");case 60:return c.bitwiseOperators&&r===60?k("<<"):k(r===61?"<=":"<");case 126:if(r===61)return k("~=");if(!c.bitwiseOperators)break;return k("~");case 58:return c.labels&&r===58?k("::"):k(":");case 91:return r===91||r===61?er():k("[");case 47:return c.integerDivision&&r===47?k("//"):k("/");case 38:case 124:if(!c.bitwiseOperators)break;case 42:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return k(i.charAt(n))}return ce(i.charAt(n))}function ge(){var e=i.charCodeAt(n),r=i.charCodeAt(n+1);return ue(e)?(e===10&&r===13&&++n,e===13&&r===10&&++n,++T,C=++n,!0):!1}function Oe(){for(;n<h;){var e=i.charCodeAt(n);if(lr(e))++n;else if(!ge())break}}function Ze(){for(var e,r;ur(i.charCodeAt(++n)););return e=v.fixup(i.slice(E,n)),fr(e)?r=M:e==="true"||e==="false"?(r=ae,e=e==="true"):e==="nil"?(r=ie,e=null):r=U,{type:r,value:e,line:T,lineStart:C,range:[E,n]}}function k(e){return n+=e.length,{type:q,value:e,line:T,lineStart:C,range:[E,n]}}function _e(){return n+=3,{type:se,value:"...",line:T,lineStart:C,range:[E,n]}}function $e(){for(var e=i.charCodeAt(n++),r=T,t=C,a=n,o=v.discardStrings?null:"",d;d=i.charCodeAt(n++),e!==d;)if((n>h||ue(d))&&(o+=i.slice(a,n-1),g(null,m.unfinishedString,i.slice(E,n-1))),d===92){if(!v.discardStrings){var b=i.slice(a,n-1);o+=v.fixup(b)}var A=sr();v.discardStrings||(o+=A),a=n}return v.discardStrings||(o+=v.encodeByte(null),o+=v.fixup(i.slice(a,n-1))),{type:R,value:o,line:r,lineStart:t,lastLine:T,lastLineStart:C,range:[E,n]}}function er(){var e=T,r=C,t=Ve(!1);return t===!1&&g(l,m.expected,"[",le(l)),{type:R,value:v.discardStrings?null:v.fixup(t),line:e,lineStart:r,lastLine:T,lastLineStart:C,range:[E,n]}}function Ue(){var e=i.charAt(n),r=i.charAt(n+1),t=e==="0"&&"xX".indexOf(r||null)>=0?nr():ar(),a=rr(),o=tr();return o&&(a||t.hasFractionPart)&&g(null,m.malformedNumber,i.slice(E,n)),{type:ne,value:t.value,line:T,lineStart:C,range:[E,n]}}function rr(){if(c.imaginaryNumbers)return"iI".indexOf(i.charAt(n)||null)>=0?(++n,!0):!1}function tr(){if(c.integerSuffixes){if("uU".indexOf(i.charAt(n)||null)>=0)if(++n,"lL".indexOf(i.charAt(n)||null)>=0){if(++n,"lL".indexOf(i.charAt(n)||null)>=0)return++n,"ULL";g(null,m.malformedNumber,i.slice(E,n))}else g(null,m.malformedNumber,i.slice(E,n));else if("lL".indexOf(i.charAt(n)||null)>=0){if(++n,"lL".indexOf(i.charAt(n)||null)>=0)return++n,"LL";g(null,m.malformedNumber,i.slice(E,n))}}}function nr(){var e=0,r=1,t=1,a,o,d,b;for(b=n+=2,Y(i.charCodeAt(n))||g(null,m.malformedNumber,i.slice(E,n));Y(i.charCodeAt(n));)++n;a=parseInt(i.slice(b,n),16);var A=!1;if(i.charAt(n)==="."){for(A=!0,o=++n;Y(i.charCodeAt(n));)++n;e=i.slice(o,n),e=o===n?0:parseInt(e,16)/Math.pow(16,n-o)}var Se=!1;if("pP".indexOf(i.charAt(n)||null)>=0){for(Se=!0,++n,"+-".indexOf(i.charAt(n)||null)>=0&&(t=i.charAt(n++)==="+"?1:-1),d=n,J(i.charCodeAt(n))||g(null,m.malformedNumber,i.slice(E,n));J(i.charCodeAt(n));)++n;r=i.slice(d,n),r=Math.pow(2,r*t)}return{value:(a+e)*r,hasFractionPart:A||Se}}function ar(){for(;J(i.charCodeAt(n));)++n;var e=!1;if(i.charAt(n)===".")for(e=!0,++n;J(i.charCodeAt(n));)++n;var r=!1;if("eE".indexOf(i.charAt(n)||null)>=0)for(r=!0,++n,"+-".indexOf(i.charAt(n)||null)>=0&&++n,J(i.charCodeAt(n))||g(null,m.malformedNumber,i.slice(E,n));J(i.charCodeAt(n));)++n;return{value:parseFloat(i.slice(E,n)),hasFractionPart:e||r}}function ir(){var e=n++;for(i.charAt(n++)!=="{"&&g(null,m.braceExpected,"{","\\"+i.slice(e,n)),Y(i.charCodeAt(n))||g(null,m.hexadecimalDigitExpected,"\\"+i.slice(e,n));i.charCodeAt(n)===48;)++n;for(var r=n;Y(i.charCodeAt(n));)++n,n-r>6&&g(null,m.tooLargeCodepoint,"\\"+i.slice(e,n));var t=i.charAt(n++);t!=="}"&&(t==='"'||t==="'"?g(null,m.braceExpected,"}","\\"+i.slice(e,n--)):g(null,m.hexadecimalDigitExpected,"\\"+i.slice(e,n)));var a=parseInt(i.slice(r,n-1)||"0",16),o="\\"+i.slice(e,n);return a>1114111&&g(null,m.tooLargeCodepoint,o),v.encodeUTF8(a,o)}function sr(){var e=n;switch(i.charAt(n)){case"a":return++n,"\x07";case"n":return++n,`
`;case"r":return++n,"\r";case"t":return++n,"	";case"v":return++n,"\v";case"b":return++n,"\b";case"f":return++n,"\f";case"\r":case`
`:return ge(),`
`;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;J(i.charCodeAt(n))&&n-e<3;)++n;var r=i.slice(e,n),t=parseInt(r,10);return t>255&&g(null,m.decimalEscapeTooLarge,"\\"+t),v.encodeByte(t,"\\"+r);case"z":if(c.skipWhitespaceEscape)return++n,Oe(),"";break;case"x":if(c.hexEscapes){if(Y(i.charCodeAt(n+1))&&Y(i.charCodeAt(n+2)))return n+=3,v.encodeByte(parseInt(i.slice(e+1,n),16),"\\"+i.slice(e,n));g(null,m.hexadecimalDigitExpected,"\\"+i.slice(e,n+2))}break;case"u":if(c.unicodeEscapes)return ir();break;case"\\":case'"':case"'":return i.charAt(n++)}return c.strictEscapes&&g(null,m.invalidEscape,"\\"+i.slice(e,n+1)),i.charAt(n++)}function or(){E=n,n+=2;var e=i.charAt(n),r="",t=!1,a=n,o=C,d=T;if(e==="["&&(r=Ve(!0),r===!1?r=e:t=!0),!t){for(;n<h&&!ue(i.charCodeAt(n));)++n;s.comments&&(r=i.slice(a,n))}if(s.comments){var b=f.comment(r,i.slice(E,n));s.locations&&(b.loc={start:{line:d,column:E-o},end:{line:T,column:n-C}}),s.ranges&&(b.range=[E,n]),s.onCreateNode&&s.onCreateNode(b),Ae.push(b)}}function Ve(e){var r=0,t="",a=!1,o,d,b=T;for(++n;i.charAt(n+r)==="=";)++r;if(i.charAt(n+r)!=="[")return!1;for(n+=r+1,ue(i.charCodeAt(n))&&ge(),d=n;n<h;){for(;ue(i.charCodeAt(n));)ge();if(o=i.charAt(n++),o==="]"){a=!0;for(var A=0;A<r;++A)i.charAt(n+A)!=="="&&(a=!1);i.charAt(n+r)!=="]"&&(a=!1)}if(a)return t+=i.slice(d,n-1),n+=r+1,t}g(null,e?m.unfinishedLongComment:m.unfinishedLongString,b,"<eof>")}function y(){P=l,l=Q,Q=ke()}function x(e){return e===l.value?(y(),!0):!1}function S(e){e===l.value?y():g(l,m.expected,e,le(l))}function lr(e){return e===9||e===32||e===11||e===12}function ue(e){return e===10||e===13}function J(e){return e>=48&&e<=57}function Y(e){return e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70}function cr(e){return!!(e>=65&&e<=90||e>=97&&e<=122||e===95||c.extendedIdentifiers&&e>=128)}function ur(e){return!!(e>=65&&e<=90||e>=97&&e<=122||e===95||e>=48&&e<=57||c.extendedIdentifiers&&e>=128)}function fr(e){switch(e.length){case 2:return e==="do"||e==="if"||e==="in"||e==="or";case 3:return e==="and"||e==="end"||e==="for"||e==="not";case 4:return e==="else"||e==="then"?!0:c.labels&&!c.contextualGoto?e==="goto":!1;case 5:return e==="break"||e==="local"||e==="until"||e==="while";case 6:return e==="elseif"||e==="repeat"||e==="return";case 8:return e==="function"}return!1}function pr(e){return q===e.type?"#-~".indexOf(e.value)>=0:M===e.type?e.value==="not":!1}function dr(e){if(te===e.type)return!0;if(M!==e.type)return!1;switch(e.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}var Z,ee,ve;function V(){var e=Z[ee++].slice();Z.push(e),s.onCreateScope&&s.onCreateScope()}function j(){Z.pop(),--ee,s.onDestroyScope&&s.onDestroyScope()}function Ne(e){s.onLocalDeclaration&&s.onLocalDeclaration(e),Le(Z[ee],e)===-1&&Z[ee].push(e)}function fe(e){Ne(e.name),pe(e,!0)}function pe(e,r){!r&&Ye(ve,"name",e.name)===-1&&ve.push(e),e.isLocal=r}function Ie(e){return Le(Z[ee],e)!==-1}var B=[],O;function W(){return new be(l)}function be(e){s.locations&&(this.loc={start:{line:e.line,column:e.range[0]-e.lineStart},end:{line:0,column:0}}),s.ranges&&(this.range=[e.range[0],0])}be.prototype.complete=function(){s.locations&&(this.loc.end.line=P.lastLine||P.line,this.loc.end.column=P.range[1]-(P.lastLineStart||P.lineStart)),s.ranges&&(this.range[1]=P.range[1])},be.prototype.bless=function(e){if(this.loc){var r=this.loc;e.loc={start:{line:r.start.line,column:r.start.column},end:{line:r.end.line,column:r.end.column}}}this.range&&(e.range=[this.range[0],this.range[1]])};function re(){O&&B.push(W())}function D(e){O&&B.push(e)}function H(){this.scopes=[],this.pendingGotos=[]}H.prototype.isInLoop=function(){for(var e=this.scopes.length;e-- >0;)if(this.scopes[e].isLoop)return!0;return!1},H.prototype.pushScope=function(e){var r={labels:{},locals:[],deferredGotos:[],isLoop:!!e};this.scopes.push(r)},H.prototype.popScope=function(){for(var e=0;e<this.pendingGotos.length;++e){var r=this.pendingGotos[e];r.maxDepth>=this.scopes.length&&--r.maxDepth<=0&&g(r.token,m.labelNotVisible,r.target)}this.scopes.pop()},H.prototype.addGoto=function(e,r){for(var t=[],a=0;a<this.scopes.length;++a){var o=this.scopes[a];if(t.push(o.locals.length),Object.prototype.hasOwnProperty.call(o.labels,e))return}this.pendingGotos.push({maxDepth:this.scopes.length,target:e,token:r,localCounts:t})},H.prototype.addLabel=function(e,r){var t=this.currentScope();if(Object.prototype.hasOwnProperty.call(t.labels,e))g(r,m.labelAlreadyDefined,e,t.labels[e].line);else{for(var a=[],o=0;o<this.pendingGotos.length;++o){var d=this.pendingGotos[o];if(d.maxDepth>=this.scopes.length&&d.target===e){d.localCounts[this.scopes.length-1]<t.locals.length&&t.deferredGotos.push(d);continue}a.push(d)}this.pendingGotos=a}t.labels[e]={localCount:t.locals.length,line:r.line}},H.prototype.addLocal=function(e,r){this.currentScope().locals.push({name:e,token:r})},H.prototype.currentScope=function(){return this.scopes[this.scopes.length-1]},H.prototype.raiseDeferredErrors=function(){for(var e=this.currentScope(),r=e.deferredGotos,t=0;t<r.length;++t){var a=r[t];g(a.token,m.gotoJumpInLocalScope,a.target,e.locals[a.localCounts[this.scopes.length-1]].name)}};function z(){this.level=0,this.loopLevels=[]}z.prototype.isInLoop=function(){return!!this.loopLevels.length},z.prototype.pushScope=function(e){++this.level,e&&this.loopLevels.push(this.level)},z.prototype.popScope=function(){var e=this.loopLevels,r=e.length;r&&e[r-1]===this.level&&e.pop(),--this.level},z.prototype.addGoto=z.prototype.addLabel=function(){throw new Error("This should never happen")},z.prototype.addLocal=z.prototype.raiseDeferredErrors=function(){};function je(){return c.labels?new H:new z}function mr(){y(),re(),s.scope&&V();var e=je();e.allowVararg=!0,e.pushScope();var r=G(e);return e.popScope(),s.scope&&j(),te!==l.type&&ce(l),O&&!r.length&&(P=l),p(f.chunk(r))}function G(e){for(var r=[],t;!dr(l);){if(l.value==="return"||!c.relaxedBreak&&l.value==="break"){r.push(Ge(e));break}t=Ge(e),x(";"),t&&r.push(t)}return r}function Ge(e){if(re(),q===l.type&&x("::"))return hr(e);if(c.emptyStatement&&x(";")){O&&B.pop();return}if(e.raiseDeferredErrors(),M===l.type)switch(l.value){case"local":return y(),Lr(e);case"if":return y(),xr(e);case"return":return y(),Sr(e);case"function":y();var r=Ar();return Te(r);case"while":return y(),br(e);case"for":return y(),Er(e);case"repeat":return y(),yr(e);case"break":return y(),e.isInLoop()||g(l,m.noLoopToBreak,l.value),gr();case"do":return y(),vr(e);case"goto":return y(),Ke(e)}return c.contextualGoto&&l.type===U&&l.value==="goto"&&Q.type===U&&Q.value!=="goto"?(y(),Ke(e)):(O&&B.pop(),wr(e))}function hr(e){var r=l,t=F();return s.scope&&(Ne("::"+r.value+"::"),pe(t,!0)),S("::"),e.addLabel(r.value,r),p(f.labelStatement(t))}function gr(){return p(f.breakStatement())}function Ke(e){var r=l.value,t=P,a=F();return e.addGoto(r,t),p(f.gotoStatement(a))}function vr(e){s.scope&&V(),e.pushScope();var r=G(e);return e.popScope(),s.scope&&j(),S("end"),p(f.doStatement(r))}function br(e){var r=w(e);S("do"),s.scope&&V(),e.pushScope(!0);var t=G(e);return e.popScope(),s.scope&&j(),S("end"),p(f.whileStatement(r,t))}function yr(e){s.scope&&V(),e.pushScope(!0);var r=G(e);S("until"),e.raiseDeferredErrors();var t=w(e);return e.popScope(),s.scope&&j(),p(f.repeatStatement(t,r))}function Sr(e){var r=[];if(l.value!=="end"){var t=ye(e);for(t!=null&&r.push(t);x(",");)t=w(e),r.push(t);x(";")}return p(f.returnStatement(r))}function xr(e){var r=[],t,a,o;for(O&&(o=B[B.length-1],B.push(o)),t=w(e),S("then"),s.scope&&V(),e.pushScope(),a=G(e),e.popScope(),s.scope&&j(),r.push(p(f.ifClause(t,a))),O&&(o=W());x("elseif");)D(o),t=w(e),S("then"),s.scope&&V(),e.pushScope(),a=G(e),e.popScope(),s.scope&&j(),r.push(p(f.elseifClause(t,a))),O&&(o=W());return x("else")&&(O&&(o=new be(P),B.push(o)),s.scope&&V(),e.pushScope(),a=G(e),e.popScope(),s.scope&&j(),r.push(p(f.elseClause(a)))),S("end"),p(f.ifStatement(r))}function Er(e){var r=F(),t;if(s.scope&&(V(),fe(r)),x("=")){var a=w(e);S(",");var o=w(e),d=x(",")?w(e):null;return S("do"),e.pushScope(!0),t=G(e),e.popScope(),S("end"),s.scope&&j(),p(f.forNumericStatement(r,a,o,d,t))}else{for(var b=[r];x(",");)r=F(),s.scope&&fe(r),b.push(r);S("in");var A=[];do{var Se=w(e);A.push(Se)}while(x(","));return S("do"),e.pushScope(!0),t=G(e),e.popScope(),S("end"),s.scope&&j(),p(f.forGenericStatement(b,A,t))}}function Lr(e){var r,t=P;if(U===l.type){var a=[],o=[];do r=F(),a.push(r),e.addLocal(r.name,t);while(x(","));if(x("="))do{var d=w(e);o.push(d)}while(x(","));if(s.scope)for(var b=0,A=a.length;b<A;++b)fe(a[b]);return p(f.localStatement(a,o))}if(x("function"))return r=F(),e.addLocal(r.name,t),s.scope&&(fe(r),V()),Te(r,!0);X("<name>",l)}function wr(e){var r,t,a,o,d,b=[];O&&(t=W());do{if(O&&(r=W()),U===l.type)d=l.value,o=F(),s.scope&&pe(o,Ie(d)),a=!0;else if(l.value==="(")y(),o=w(e),S(")"),a=!1;else return ce(l);e:for(;;){switch(R===l.type?'"':l.value){case".":case"[":a=!0;break;case":":case"(":case"{":case'"':a=null;break;default:break e}o=qe(o,r,e)}if(b.push(o),l.value!==",")break;if(!a)return ce(l);y()}while(!0);if(b.length===1&&a===null)return D(r),p(f.callStatement(b[0]));if(!a)return ce(l);S("=");var A=[];do A.push(w(e));while(x(","));return D(t),p(f.assignmentStatement(b,A))}function F(){re();var e=l.value;return U!==l.type&&X("<name>",l),y(),p(f.identifier(e))}function Te(e,r){var t=je();t.pushScope();var a=[];if(S("("),!x(")"))for(;;){if(U===l.type){var o=F();if(s.scope&&fe(o),a.push(o),x(","))continue}else se===l.type?(t.allowVararg=!0,a.push(De(t))):X("<name> or '...'",l);S(")");break}var d=G(t);return t.popScope(),S("end"),s.scope&&j(),r=r||!1,p(f.functionStatement(e,a,r,d))}function Ar(){var e,r,t;for(O&&(t=W()),e=F(),s.scope&&(pe(e,Ie(e.name)),V());x(".");)D(t),r=F(),e=p(f.memberExpression(e,".",r));return x(":")&&(D(t),r=F(),e=p(f.memberExpression(e,":",r)),s.scope&&Ne("self")),e}function Re(e){for(var r=[],t,a;;){if(re(),q===l.type&&x("["))t=w(e),S("]"),S("="),a=w(e),r.push(p(f.tableKey(t,a)));else if(U===l.type)Q.value==="="?(t=F(),y(),a=w(e),r.push(p(f.tableKeyString(t,a)))):(a=w(e),r.push(p(f.tableValue(a))));else{if((a=ye(e))==null){B.pop();break}r.push(p(f.tableValue(a)))}if(",;".indexOf(l.value)>=0){y();continue}break}return S("}"),p(f.tableConstructorExpression(r))}function ye(e){var r=Fe(0,e);return r}function w(e){var r=ye(e);if(r==null)X("<expression>",l);else return r}function kr(e){var r=e.charCodeAt(0),t=e.length;if(t===1)switch(r){case 94:return 12;case 42:case 47:case 37:return 10;case 43:case 45:return 9;case 38:return 6;case 126:return 5;case 124:return 4;case 60:case 62:return 3}else if(t===2)switch(r){case 47:return 10;case 46:return 8;case 60:case 62:return e==="<<"||e===">>"?7:3;case 61:case 126:return 3;case 111:return 1}else if(r===97&&e==="and")return 2;return 0}function Fe(e,r){var t=l.value,a,o;if(O&&(o=W()),pr(l)){re(),y();var d=Fe(10,r);d==null&&X("<expression>",l),a=p(f.unaryExpression(t,d))}if(a==null&&(a=De(r),a==null&&(a=Or(r))),a==null)return null;for(var b;t=l.value,b=q===l.type||M===l.type?kr(t):0,!(b===0||b<=e);){(t==="^"||t==="..")&&--b,y();var A=Fe(b,r);A==null&&X("<expression>",l),O&&B.push(o),a=p(f.binaryExpression(t,a,A))}return a}function qe(e,r,t){var a,o;if(q===l.type)switch(l.value){case"[":return D(r),y(),a=w(t),S("]"),p(f.indexExpression(e,a));case".":return D(r),y(),o=F(),p(f.memberExpression(e,".",o));case":":return D(r),y(),o=F(),e=p(f.memberExpression(e,":",o)),D(r),Ce(e,t);case"(":case"{":return D(r),Ce(e,t)}else if(R===l.type)return D(r),Ce(e,t);return null}function Or(e){var r,t,a;if(O&&(a=W()),U===l.type)t=l.value,r=F(),s.scope&&pe(r,Ie(t));else if(x("("))r=w(e),S(")");else return null;for(;;){var o=qe(r,a,e);if(o===null)break;r=o}return r}function Ce(e,r){if(q===l.type)switch(l.value){case"(":c.emptyStatement||l.line!==P.line&&g(null,m.ambiguousSyntax,l.value),y();var t=[],a=ye(r);for(a!=null&&t.push(a);x(",");)a=w(r),t.push(a);return S(")"),p(f.callExpression(e,t));case"{":re(),y();var o=Re(r);return p(f.tableCallExpression(e,o))}else if(R===l.type)return p(f.stringCallExpression(e,De(r)));X("function arguments",l)}function De(e){var r=R|ne|ae|ie|se,t=l.value,a=l.type,o;if(O&&(o=W()),a===se&&!e.allowVararg&&g(l,m.cannotUseVararg,l.value),a&r){D(o);var d=i.slice(l.range[0],l.range[1]);return y(),p(f.literal(a,t,d))}else{if(M===a&&t==="function")return D(o),y(),s.scope&&V(),Te(null);if(x("{"))return D(o),Re(e)}}u.parse=Nr;var We={"5.1":{},"5.2":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,relaxedBreak:!0},"5.3":{labels:!0,emptyStatement:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,bitwiseOperators:!0,integerDivision:!0,relaxedBreak:!0},LuaJIT:{labels:!0,contextualGoto:!0,hexEscapes:!0,skipWhitespaceEscape:!0,strictEscapes:!0,unicodeEscapes:!0,imaginaryNumbers:!0,integerSuffixes:!0}};function Nr(e,r){if(typeof r>"u"&&typeof e=="object"&&(r=e,e=void 0),r||(r={}),i=e||"",s=we({},K,r),n=0,T=1,C=0,h=i.length,Z=[[]],ee=0,ve=[],B=[],!Object.prototype.hasOwnProperty.call(We,s.luaVersion))throw new Error(oe("Lua version '%1' not supported",s.luaVersion));if(c=we({},We[s.luaVersion]),s.extendedIdentifiers!==void 0&&(c.extendedIdentifiers=!!s.extendedIdentifiers),!Object.prototype.hasOwnProperty.call(he,s.encodingMode))throw new Error(oe("Encoding mode '%1' not supported",s.encodingMode));return v=he[s.encodingMode],s.comments&&(Ae=[]),s.wait?u:Me()}u.write=He;function He(e){return i+=String(e),h=i.length,u}u.end=Me;function Me(e){typeof e<"u"&&He(e),i&&i.substr(0,2)==="#!"&&(i=i.replace(/^.*/,function(t){return t.replace(/./g," ")})),h=i.length,O=s.locations||s.ranges,Q=ke();var r=mr();if(s.comments&&(r.comments=Ae),s.scope&&(r.globals=ve),B.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");return r}})})(de,de.exports)),de.exports}Tr();async function Fr(N,L="ronroblox"){try{const u=await fetch(`/api/fandom-image?filename=${encodeURIComponent(N)}&wiki=${encodeURIComponent(L)}`);if(!u.ok)throw new Error(`Failed to fetch image data: ${u.status}`);const i=await u.json();if(i.error)throw new Error(i.error);return i.url}catch(u){throw console.error(`Error fetching Fandom image URL for ${N}:`,u),u}}let xe,Xe,_,Be;async function Cr(){try{const N=await fetch("/api/fandom-data");if(!N.ok)throw new Error(`HTTP ${N.status}`);const L=await N.json();if(xe=L.Lawnames,Xe=L.Flagdata,_=L.Nationdata,Be=L.Tagdata,console.log(xe),console.log(Xe),console.log(_),console.log(Be),xe?.lawNames?.Elective_Assembly?.Name){const u=xe.lawNames.Elective_Assembly.Name;console.log(u)}Qe()}catch(N){console.error("Error loading fandom data:",N)}}function Dr(N,L){let u,i,s;for(i=document.getElementsByClassName("tabcontent"),u=0;u<i.length;u++)i[u].classList.remove("tabcontent-visible"),i[u].classList.add("tabcontent-hidden");for(s=document.getElementsByClassName("tablinks"),u=0;u<s.length;u++)s[u].className=s[u].className.replace(" active","");document.getElementById(L).classList.remove("tabcontent-hidden"),document.getElementById(L).classList.add("tabcontent-visible"),N.currentTarget.className+=" active"}async function Qe(){if(!_?.nationdata){console.warn("Nationdata not loaded yet");return}const N=document.getElementsByClassName("nations-list"),L=30;function u(s,h){const c=document.createElement("li"),v=document.createElement("button"),K=document.createElement("span");K.classList.add("flag-image");const I=document.createElement("img");I.src=h,K.appendChild(I);const $=document.createElement("span");return $.textContent=s,v.appendChild(K),v.appendChild($),c.appendChild(v),c}function i(s){return s.includes("scale-to-width-down")?s.replace(/scale-to-width-down\/\d+/,`scale-to-width-down/${L}`):s.replace(/\/revision\/latest/,`/revision/latest/scale-to-width-down/${L}`)}for(let s of N){const h=s.parentElement.id;let c=[];h==="Nations"?c=Object.keys(_.nationdata).filter(I=>_.nationdata[I].nation===!0).sort():h==="Releasables"?c=Object.keys(_.nationdata).filter(I=>_.nationdata[I].nation===!1).sort():h==="Formables"&&(c=Object.values(Be.Tags).filter(I=>I.FormableName).map(I=>I.FormableName).sort());const v=c.map(I=>Fr(I+"_Flag.png")),K=await Promise.all(v);c.forEach((I,$)=>{const me=i(K[$]),he=u(I,me);s.appendChild(he)})}}Cr();window.switchTab=Dr;window.generateNationsList=Qe;
